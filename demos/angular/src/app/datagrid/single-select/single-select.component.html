<h2>@cds/core Grid with single selection behavior</h2>
<cds-accordion cds-layout="m-y:md">
  <cds-accordion-panel [expanded]="showDevNotes" (expandedChange)="showDevNotes = !showDevNotes">
    <cds-accordion-header>Dev notes for single select grids</cds-accordion-header>
    <cds-accordion-content>
      <p>
        Single-select grids can be implemented with an Angular reactive form. There are two things it needs to track, if
        the current row that is selected and a FormGroup of radio input controls to manage changes when a different row
        is selected. The FormControl's for each row can easily be generated by iterating over all of the rows in the
        data set which need to be selectable. The application can pick and choose which rows are selectable based on its
        specifications. Once the controls are generated, the rows can also be generated with iteration in the template
        and associate the formControlName with the reactive control that was generated for it. Finally, to manage
        selection row and values for the form, subscribe to the valueChanges for the form and use the row model to
        identify and update the associated form control.
      </p>
      <p>
        The selected for can be managed with a class property in the component and valueChanges can listen for changes
        so that iteration ca be used on the dataset to set the new value of the radio group.
      </p>
    </cds-accordion-content>
  </cds-accordion-panel>
</cds-accordion>
<cds-grid aria-label="row single select grid demo" style="--body-height: 360px;">
  <cds-grid-column type="action" aria-label="host selection column"></cds-grid-column>
  <cds-grid-column *ngFor="let column of dataFields" [id]="column">
    {{ column | titlecase }}
  </cds-grid-column>
  <cds-grid-row *ngFor="let vm of data" [selected]="selectedRow?.id === vm.id ? true : false">
    <cds-grid-cell>
      <cds-radio>
        <input type="radio" name="hosts" [id]="vm.id" aria-label="select host" (change)="rowSelectChange($event)" />
      </cds-radio>
    </cds-grid-cell>
    <cds-grid-cell *ngFor="let column of dataFields">
      {{ $any(vm)[column] }}
    </cds-grid-cell>
  </cds-grid-row>
  <cds-grid-footer> Selected: {{ selectedRow ? selectedRow?.id : 'No selection' }} </cds-grid-footer>
</cds-grid>
<h2>@clr/angular single select datagrid</h2>
<p>This is a single select <strong>@clr/angular</strong> datagrid.</p>
<section cds-layout="m-y:md">
  <h3>Selected clr VMs:</h3>
  <span>{{ clrSelectedVM?.id }} </span>
</section>
<clr-datagrid style="height: 360px;" [(clrDgSingleSelected)]="clrSelectedVM">
  <clr-dg-column *ngFor="let column of dataFields">{{ column }}</clr-dg-column>
  <clr-dg-row *ngFor="let vm of data" [clrDgItem]="vm">
    <clr-dg-cell *ngFor="let column of dataFields">
      {{ $any(vm)[column] }}
    </clr-dg-cell>
  </clr-dg-row>
  <clr-dg-footer>
    <div cds-layout="horizontal align:fill align:left">
      Selected VM: {{ clrSelectedVM ? clrSelectedVM.id : 'None selected' }}
    </div>
  </clr-dg-footer>
</clr-datagrid>
