<!DOCTYPE html>
<div style="height: 200px; width: 100px;"></div>
<div id="target" style="background-color: green; width:100px; height:100px"></div>
<div style="height: 200px; width: 100px;"></div>
<script>
document.createObserverCallback = function(entries) {
  return function(newEntries) {
    for (var i in newEntries) entries.push(newEntries[i])
  };
}
document.createObserver = function(callback) {
  return new IntersectionObserver(callback, {});
};
</script>
