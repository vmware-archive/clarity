<!--
  ~ Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->

<h3 id="guidelines">Spinner Component</h3>
<p>
  Clarity provides a component to help with displaying a spinner for loading purposes. This component also helps with
  accessibility needs to announce loading tasks to a screen reader user.
</p>
<table class="table">
  <thead>
    <tr>
      <th class="left">Input/Output</th>
      <th class="left hidden-xs-down">Type</th>
      <th class="left hidden-xs-down">Default</th>
      <th class="left">Effect</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let prop of props">
      <td class="left">
        <b>{{ prop.name }}</b>
      </td>
      <td class="left hidden-xs-down">{{ prop.type }}</td>
      <td class="left hidden-xs-down">{{ prop.defaultValue }}</td>
      <td class="left">{{ prop.description }}</td>
    </tr>
  </tbody>
</table>

<div class="alert alert-warning">
  <div class="alert-items">
    <div class="alert-item static">
      <div class="alert-icon-wrapper">
        <clr-icon class="alert-icon" shape="exclamation-triangle"></clr-icon>
      </div>
      <span class="alert-text">
        Deprecation: Since v4, we will no longer handle setting <code class="clr-code">aria-live</code> and announcing
        the message for you by default. Based on the application use case, you can use the new
        <code class="clr-code">ClrAriaLiveService</code>
        to make announcements when they make sense for a user to hear about updates or loading status changes. This will
        result in of removing few inputs provided by the component such as
        <code class="clr-code">clrPolite</code>, <code class="clr-code">clrAssertive</code>,
        <code class="clr-code">clrOff</code>
      </span>
    </div>
  </div>
</div>

<h5>Examples:</h5>

<div class="clr-example squeeze">
  <button
    *ngIf="!fetchingUserInformation"
    (click)="toggleProgressBar('fetchingUserInformation')"
    class="btn btn-primary"
  >
    Fetch user information
  </button>
  <clr-spinner *ngIf="fetchingUserInformation">Loading data</clr-spinner>
</div>
<clr-code-snippet [clrCode]="example"></clr-code-snippet>

<h5>Modify</h5>
<p>
  Add modifier like <code class="clr-code">inline</code> or <code class="clr-code">inverse</code>. If you need to make
  change on the size you could add <code class="clr-code">small</code> or <code class="clr-code">medium</code>, the
  default size is auto set to <code class="clr-code">large</code>.
</p>

<div class="clr-example squeeze">
  <button *ngIf="!downloadingFile" (click)="toggleProgressBar('downloadingFile')" class="btn btn-primary">
    Download file
  </button>

  <div *ngIf="downloadingFile">
    <clr-spinner clrInline>Downloading</clr-spinner>
    <span> Downloading</span>
  </div>
</div>
<clr-code-snippet [clrCode]="example1"></clr-code-snippet>

<h5>Accessibility live region</h5>
<p>
  By default the component will set <code class="clr-code">aria-live='polite'</code>. If you need to change it you need
  to pass <code class="clr-code">assertive</code> or <code class="clr-code">off</code> to disable the live announcement.
</p>
<p>
  To prevent unwanted announcement, use <code class="clr-code">*ngIf</code> to add or remove it from the DOM. By default
  the component will be created with <code class="clr-code">aria-live='polite'</code>
  if not set otherwise. This will trigger the screen reader to announce the event in the next possible moment.
</p>
<div class="clr-example squeeze">
  <button *ngIf="!downloadinInvoice" (click)="toggleProgressBar('downloadinInvoice')" class="btn btn-primary">
    Download Invoice
  </button>
  <clr-spinner *ngIf="downloadinInvoice" clrMedium clrAssertive>Downloading</clr-spinner>
</div>
<clr-code-snippet [clrCode]="example2"></clr-code-snippet>
