<!--
  ~ Copyright (c) 2016-2020 VMWare, Inc. All Rights Reserved.
  ~ This software is released under MIT License.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->

<clr-doc-wrapper [ng]="ng" [ui]="ui" [title]="title" [newLayout]="newLayout">
  <article>
    <h5 class="component-summary" id="a-signpost-description">
      Themes help you customize the look and feel of your application.
    </h5>
    <div id="design-guidelines">
      <h3>Establish your brand with Clarity</h3>
      <div class="clr-row">
        <div class="clr-col-12 clr-col-md-4">
          <div class="clrweb-DoxMedia">
            <img src="assets/images/documentation/themes/theme-branding.svg" alt="Color Theming" class="clrweb-Img" />
            <div class="clrweb-DoxMedia-text">
              Match a company or client’s unique brand identity with <strong>color theming</strong> at
              <strong>many different levels of granularity</strong> allowing for customization at an application or
              component level.
            </div>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-4">
          <div class="clrweb-DoxMedia">
            <img src="assets/images/documentation/themes/theme-icons.svg" alt="Clarity Icons API" class="clrweb-Img" />
            <div class="clrweb-DoxMedia-text">
              <strong>Font customization</strong> and the <a href="/icons/api">Clarity Icons API</a>
              offer the power to reinforce identity at the most fundamental levels of user experience.
            </div>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-4">
          <div class="clrweb-DoxMedia">
            <img
              src="assets/images/documentation/themes/theme-info.svg"
              alt="Theme information density"
              class="clrweb-Img"
            />
            <div class="clrweb-DoxMedia-text">
              Depending on users’ expectations, different applications may require different degrees of
              <strong>information density</strong>. Clarity themes can be adjusted to make an application as
              <strong>sparse or compact</strong> as it needs to be.
            </div>
          </div>
        </div>
      </div>
      <h3>Default Themes</h3>
      <p class="p1">
        Clarity offers two default themes — light and dark. These themes can be used without modification to optimize
        user experience or they can be used as a guideline for creating custom themes in Clarity.
      </p>
      <div class="clr-row">
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia">
            <img src="assets/images/documentation/themes/theme-light.svg" alt="Light Theme" class="clrweb-Img" />
            <h6>Light Theme</h6>
            <div class="clrweb-DoxMedia-text">
              Light theme is Clarity’s default. It is best suited to <strong>content-rich applications</strong> where
              users will be working with the application in <strong>well-lit conditions</strong> for brief periods of
              time throughout the day. Light theme can help prevent eye strain in applications where a user is expected
              to <strong>read a large amount of content</strong> — like documentation or a blog.
            </div>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia">
            <img src="assets/images/documentation/themes/theme-dark.svg" alt="Dark Theme" class="clrweb-Img" />
            <h6>Dark Theme</h6>
            <div class="clrweb-DoxMedia-text">
              Dark theme is best suited for applications that are
              <strong>content-sparse, yet highly interactive</strong>. A dark theme can help with eye strain if a user
              works with an application over a long span of time but in a way that requires
              <strong>focus but not a great amount of reading</strong>.
            </div>
          </div>
        </div>
      </div>
      <h3>Theme Guidelines</h3>
      <p class="p1">
        Themes offer a great deal of flexibility — which can be both a good and bad thing. The Clarity team has put
        continued effort towards <strong>accessibility</strong> and the intentional <strong>use of color</strong> so
        that our end users can add great value to their products with minimal investment.
      </p>
      <p class="p1">
        <strong>But theming can put some of those benefits at risk</strong>. Please review the following guidelines
        before building a custom theme.
      </p>
      <h5>Use color responsibly</h5>
      <div class="clr-row">
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia">
            <p class="p1">
              Use colors that reinforce your brand but in a way that is pleasing.
            </p>
            <p class="p1">
              Save saturated or bright colors in your palette for highlights. And use them sparingly to highlight
              actions or content.
            </p>
            <p class="p1">
              Harsh colors can cause eye strain for users over time. Avoid using too many bright, neon colors and avoid
              using highly saturated/bold colors as backgrounds over large areas of content.
            </p>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia is-do-block">
            <div class="clrweb-DoxMedia-block">
              <div class="clrweb-DoxMedia-img">
                <img
                  alt="Do use brand colors in a pleasing manner"
                  class="clrweb-Img"
                  src="assets/images/documentation/themes/theme-responsability.svg"
                />
              </div>
            </div>
            <div class="clrweb-DoxMedia-text">
              <h6 class="clrweb-DoxMedia-do-dont">Do</h6>
              <p class="p1">
                Use brand colors in a pleasing manner, saving bold or saturated colors for highlights or calls to
                action.
              </p>
            </div>
          </div>
        </div>
      </div>
      <h6>Communicate with color</h6>
      <div class="clr-row">
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia">
            <p class="p1">
              Consider using color to communicate meaning to users. Using colors like red for warning or danger and
              green for success or preferred actions reinforces your user experience.
            </p>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia is-dont-block">
            <div class="clrweb-DoxMedia-block">
              <div class="clrweb-DoxMedia-img">
                <img
                  alt="Don't use brand colors irrespective of what the color communicates to users."
                  class="clrweb-Img"
                  src="assets/images/documentation/themes/theme-comms.svg"
                />
              </div>
            </div>
            <div class="clrweb-DoxMedia-text">
              <h6 class="clrweb-DoxMedia-do-dont">Don't</h6>
              <p class="p1">
                Use brand colors irrespective of what the color communicates to users.
              </p>
            </div>
          </div>
        </div>
      </div>
      <h5>Create visual hierarchy</h5>
      <p class="p1">
        Darker colors recede while lighter and brighter colors push forward. Be mindful of this when working with brand
        colors to create a custom theme.
      </p>
      <div class="clr-row">
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia is-do-block">
            <div class="clrweb-DoxMedia-block">
              <div class="clrweb-DoxMedia-img">
                <img
                  alt="Use light and dark colors to reinforce visual hierarchy and draw users’
                                focus."
                  class="clrweb-Img"
                  src="assets/images/documentation/themes/theme-visual-do.svg"
                />
              </div>
            </div>
            <div class="clrweb-DoxMedia-text">
              <h6 class="clrweb-DoxMedia-do-dont">Do</h6>
              <p class="p1">
                Use light and dark colors to reinforce visual hierarchy and draw users’ focus.
              </p>
            </div>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia is-dont-block">
            <div class="clrweb-DoxMedia-block">
              <div class="clrweb-DoxMedia-img">
                <img
                  alt="Don't draw attention to the wrong items with the use of color."
                  class="clrweb-Img"
                  src="assets/images/documentation/themes/theme-visual-dont.svg"
                />
              </div>
            </div>
            <div class="clrweb-DoxMedia-text">
              <h6 class="clrweb-DoxMedia-do-dont">Don't</h6>
              <p class="p1">
                Draw attention to the wrong items with the use of color. In this example, the content of the cards and
                datagrid recede into the background while the sidenav and header unnecessarily draw the user’s
                attention.
              </p>
            </div>
          </div>
        </div>
      </div>
      <h5>Avoid extreme color combinations</h5>
      <div class="clr-row">
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia">
            <p class="p1">
              Avoid extreme light-on-dark and dark-on-light color combinations that could contribute to eye strain.
            </p>
          </div>
        </div>
        <div class="clr-col-12 clr-col-md-6">
          <div class="clrweb-DoxMedia is-dont-block">
            <div class="clrweb-DoxMedia-block">
              <div class="clrweb-DoxMedia-img">
                <img
                  alt="Don't use color combinations that may cause eye-strain."
                  class="clrweb-Img"
                  src="assets/images/documentation/themes/theme-color-combos.svg"
                />
              </div>
            </div>
            <div class="clrweb-DoxMedia-text">
              <h6 class="clrweb-DoxMedia-do-dont">Don't</h6>
              <p class="p1">
                Use color combinations that may cause eye-strain.
              </p>
            </div>
          </div>
        </div>
      </div>
      <h5>Be Accessible</h5>
      <p class="p1">
        Clarity’s color palette is WCAG AA compliant, meaning all color combinations of text-on-background meet the
        standard for color accessibility for our users. Use
        <a href="//webaim.org/resources/contrastchecker/" target="_blank">the WebAIM Color Contrast Checker tool</a> to
        test text and background colors when deciding how a brand’s color palette will be used in an application.
      </p>
      <div style="margin: 48px 0;">
        <div class="clrweb-DoxBookmark hidden-sm-down">
          <div class="clrweb-DoxBookmark-bookmark" style="color: #205f00;">
            <clr-icon shape="bookmark"></clr-icon>
          </div>
          <p>
            All of the text/background combinations on the Clarity Color Palette page are tested for WCAG AA compliance.
          </p>
        </div>
      </div>
    </div>

    <div id="code-examples">
      <h3 id="examples">Code &amp; Examples</h3>
      <p>
        Clarity UI ships with two css files, <code class="clr-code">clr-ui.min.css</code> for the light theme and
        <code class="clr-code">clr-ui-dark.min.css</code> for the dark theme. You can consume either one of these files
        and have a fully light or dark-themed Clarity application. If you already use
        <code class="clr-code">@clr/ui</code> in your project there is nothing more you need to do. If you want to
        switch over to the dark theme use one of the examples below to modify your build process and consume the
        <code class="clr-code">clr-ui-dark.min.css</code> code.
      </p>
      <h4 style="margin-bottom: 12px;">Angular CLI Builds</h4>
      <p>
        Consume the dark theme code in <code class="clr-code"> clr-ui-dark.min.css</code> by adding it to your styles
        array in the <code class="clr-code">.angular-cli.json</code> file.
      </p>
      <clr-code-snippet [clrCode]="uiNodeImports" [clrDisablePrism]="true"></clr-code-snippet>
      <h4 style="margin-bottom: 12px;">Webpack Builds</h4>
      <p>
        Modify your <code class="clr-code">webpack.config.js</code> entry styles to consume the new
        <code class="clr-code">clr-ui-dark.min.css</code>
      </p>
      <clr-code-snippet [clrCode]="uiWebpackImports" [clrDisablePrism]="true"></clr-code-snippet>
    </div>
    <div style="border-top: 0.05rem solid #ccc; margin-top: 2.4rem;">
      <h3 class="margin-top-48">Custom Themes</h3>
      <p>
        If you need to customize components for your application we suggest starting with either the light theme or the
        dark theme and overriding variables from there to suit your customizations.
      </p>

      <h4>Two Ways to Theme Clarity</h4>

      <p>
        With the 3.0 release, there are two ways to theme Clarity: <em>SASS variables</em> and
        <em>CSS custom properties</em>. The recommended way to theme Clarity is through
        <a href="//developer.mozilla.org/en-US/docs/Web/CSS/--*" target="_blank" rel="noopener noreferrer"
          >CSS Custom Properties</a
        >.
      </p>

      <p>After the release of Clarity 4.0, SASS based theming will no longer work in Clarity.</p>

      <clr-alert [clrAlertClosable]="false" [clrAlertType]="'danger'" class="margin-top-48">
        <clr-alert-item>
          <span class="alert-text">
            SASS-based theming is deprecated in Clarity 3.0 and will no longer work when Clarity 4.0 is released. It is
            recommended that you convert your themes to use CSS custom properties for the 4.0 release in Spring of 2020.
          </span>
        </clr-alert-item>
      </clr-alert>

      <h4 class="margin-top-48">SASS-based Theming</h4>

      <p>
        SASS-based theming is most familiar to those who use SASS/SCSS in their own products to build CSS stylesheets.
        SASS acts like a superset of CSS that enables convenient nesting syntax and programming-like functionality in a
        CSS-based language that compiles to CSS. SASS also gives developers variables they can reuse throughout their
        SASS codebase.
      </p>

      <p>
        Clarity has a number of such variables. The
        <a
          href="https://github.com/vmware/clarity/blob/master/src/clr-angular/utils/_variables.clarity.scss"
          target="_blank"
          rel="noopener noreferrer"
          >_variables.clarity.scss</a
        >
        file in the Clarity project can serve as a directory for where all of the variable files can be found.
      </p>

      <p>It is these variables that we override in SASS to build out a new CSS file for our theme.</p>

      <section class="clr-tab-container">
        <clr-tabs>
          <clr-tab>
            <button clrTabLink="">Light Theme Base</button>
            <clr-tab-content *clrIfActive>
              <p>
                In order to customize the Clarity light theme you will need to build with the Clarity SCSS and overwrite
                the SCSS variables that set the look-n-feel for each component you need to customize. You will need to
                build your applications CSS output with Clarity's SCSS.
              </p>
              <h6>Remove Clarity CSS from your build configuration</h6>
              <p>
                First, since we are going to be creating custom component styles the first step is to remove all of the
                Clarity css from your build process.
              </p>
              <clr-code-snippet [clrCode]="uiNoNodeImports" [clrDisablePrism]="true"></clr-code-snippet>
              <h6>Add (or modify) your applications main.scss file</h6>
              <p>
                Next, we need to include the the application scss variable overrides and the Clarity component styles.
                This example shows one way of adding the Clarity dependencies and component styles based on standard
                <code class="clr-code">npm</code> installation into a
                <code class="clr-code">node_modules</code> directory of the project. In this example the
                <code class="clr-code">styles.scss</code> file lives at the top of a standard angular-cli application
                <code class="clr-code">src</code> folder.
              </p>
              <clr-code-snippet
                [clrCode]="uiCustomClarityLightThemeScssFile"
                [clrDisablePrism]="true"
              ></clr-code-snippet>
            </clr-tab-content>
          </clr-tab>
          <clr-tab>
            <button clrTabLink="">Dark Theme Base</button>
            <clr-tab-content *clrIfActive>
              <p>
                In order to customize the Clarity dark theme, you will need to build with the Clarity SCSS and overwrite
                the SCSS variables that set the look-and-feel for each component you need to customize. You will need to
                build your application's CSS output with Clarity's SCSS.
              </p>
              <h6>Remove Clarity CSS from your build configuration</h6>
              <p>
                First, since we are going to be creating custom component styles the first step is to remove all of the
                Clarity CSS from your build process.
              </p>
              <clr-code-snippet [clrCode]="uiNoNodeImports" [clrDisablePrism]="true"></clr-code-snippet>
              <h6>Add or modify your application's main.scss file</h6>
              <p>
                Next, we need to include the Clarity dependencies and component styles. This example shows one way of
                adding the Clarity dependencies and component styles based on standard
                <code class="clr-code">npm</code> installation into a
                <code class="clr-code">node_modules </code> directory of the project. In this example, the
                <code class="clr-code">styles.scss</code> file lives at the top of a standard angular-cli application
                src folder.
              </p>
              <clr-code-snippet
                [clrCode]="uiCustomClarityDarkThemeScssFile"
                [clrDisablePrism]="true"
              ></clr-code-snippet>
            </clr-tab-content>
          </clr-tab>
        </clr-tabs>
      </section>

      <h5>Why is SASS-based theming going away?</h5>

      <p>
        Once the Clarity Angular library begins to integrate the web components from Clarity Core, SASS-based theming
        will no longer work. The Clarity Core web components are encapsulated within the shadow DOM. Changes to the CSS
        at the global level will not be able to affect shadow DOM encapsulated web components through any means outside
        of CSS custom properties.
      </p>

      <h4>CSS Custom Properties</h4>

      <p>
        CSS custom properties are a specification that defines a syntax that allows developers to define "variables" in
        their stylesheets whose values they can reuse and override. This is a huge improvement for CSS and greatly
        streamlines theming, as well as the management of complex stylesheets.
      </p>

      <p>
        Additionally, CSS custom properties deliver a great deal of flexibility in how developers can implement themes
        for their applications. Dramatic visual changes can now be realized using CSS and leveraging the native cascade
        of stylesheets. CSS custom properties are also very simple to override in just a few lines of JavaScript.
      </p>

      <p>
        For more information on using CSS custom properties,
        <a href="//developer.mozilla.org/en-US/docs/Web/CSS/--*" target="_blank" rel="noopener noreferrer"
          >see this article on MDN</a
        >.
      </p>
    </div>
    <div style="border-top: 0.05rem solid #ccc; margin-top: 2.4rem;">
      <h3 class="margin-top-48">Different Types of Theming</h3>

      <p>
        When doing research on how best to deliver a theming solution to our developer community, the Clarity team
        identified several primary use cases:
      </p>

      <ul class="list">
        <li>use of a non-default theme, like the dark theme, with no theme switching</li>
        <li>switching between two themes, like a light/dark theme switcher</li>
        <li>"whitelabeling"</li>
        <li>dynamically switching an application between "whitelabeling" options</li>
      </ul>

      <h4>CSS Custom Property Dark Theme</h4>

      <p>
        After adopting custom properties, delivering a dark theme in Clarity no longer requires pointing to a separately
        built CSS file. Likewise, if your application relies on Clarity but needs a different color scheme, you'll no
        longer need to rebuild the Clarity CSS at build time.
      </p>

      <p>
        Instead, you will redefine the clarity CSS custom properties and include the CSS in your application.
        <a
          href="//github.com/mathisscott/clarity-theming-starter/tree/clarity-css-dark-theme"
          target="_blank"
          rel="noopener noreferrer"
          >An example can be found here</a
        >.
      </p>

      <p>
        If you are already working with a SASS/SCSS file with Clarity SASS variables, clarity has made the conversion
        easy in that all previous sass variables can be changed to custom properties by replacing leading
        <code class="clr-code">$</code> with <code class="clr-code">--</code> in the variable name.
      </p>

      <p>
        So, the previous SASS variable <code class="clr-code">$clr-alert-info-bg-color</code> would become a custom
        property of <code class="clr-code">--clr-alert-info-bg-color</code>.
        <a
          href="//github.com/mathisscott/clarity-theming-starter/blob/clarity-css-dark-theme/src/_dark-theme.scss"
          target="_blank"
          rel="noopener noreferrer"
          >This file on github</a
        >
        shows an example of what this looks like in practice.
      </p>

      <h4>Theme Switching</h4>

      <p>
        A common use case for applications is giving users the ability to switch between predefined universal themes. An
        example would be switching between a light and a dark theme.
      </p>

      <p>
        Before custom properties, this was accomplished by generating two completely different files containing all of
        the style definitions in Clarity. Each of these files were compiled separately with different SASS variables at
        their root. Through JavaScript, developers could then enable and disable the stylesheet they wanted to use.
      </p>

      <p>
        While elements of this approach remain the same with custom properties, the cumbersome step of compiling and
        then forcing users to download multiple versions of the full Clarity stylesheet is no longer necessary.
      </p>

      <p>Instead, our theme only contains the custom property values we want to change when a theme is selected.</p>

      <p>
        An example of this kind of "theme switching"
        <a
          href="//github.com/mathisscott/clarity-theming-starter/tree/clarity-css-dark-theme-switcher"
          target="_blank"
          rel="noopener noreferrer"
          >can be found here in this github repository</a
        >.
      </p>

      <h4>Whitelabeling</h4>

      <p>
        Whitelabeling is a term that describes a product feature that allows end-users to change a minimal set of colors
        to aid with brand identity across a company's offerings. Typically, whitelabeling refers to the ability to
        change navigation or header colors and sometimes elements such as buttons.
      </p>

      <p>
        This was incredibly difficult in Clarity prior to custom properties. Due to the aforementioned requirement that
        teams rebuild the clarity CSS in order to theme any part of it, there was not a good native solution for those
        seeking to whitelabel its components.
      </p>

      <p>
        Because custom properties allows us to change just the styles that we want to override in normal CSS,
        <a
          href="//github.com/mathisscott/clarity-theming-starter/tree/clarity-css-whitelabeling"
          target="_blank"
          rel="noopener noreferrer"
          >whitelabeling Clarity applications is far more streamlined</a
        >.
      </p>

      <h4>Dynamic Whitelabeling</h4>

      <p>
        A feature that often walks hand-in-hand with whitelabeling is some sort of theme generator the customers can use
        to customize a product to their needs. Again, this is often limited to a subset of styles -- generally concerned
        with Color and navigation.
      </p>

      <p>
        With the ease of accessing and updating CSS custom properties with JavaScript, this is also functionality that
        is far easier now in Clarity with custom properties.
        <a
          href="//github.com/mathisscott/clarity-theming-starter/tree/clarity-css-whitelabel-switcher"
          target="_blank"
          rel="noopener noreferrer"
          >Here is an example demonstrating a theme switcher that uses JavaScript to update CSS custom properties</a
        >.
      </p>

      <h3 class="margin-top-48">IE11 Support</h3>

      <p>
        <a href="//caniuse.com/#feat=css-variables" target="_blank" rel="noopener noreferrer"
          >CSS custom properties are supported in every major browser</a
        >
        with the exception of Internet Explorer. If your product does not support this legacy Microsoft browser, then
        you do not need to read any further.
      </p>

      <p>
        If, however, your product has not been able to stop supporting Internet Explorer, Clarity Core can offer some
        assistance.
      </p>

      <h4>Setting up IE11 support</h4>

      <p>
        First, you will need to install Clarity Core and its dependencies:
        <code class="clr-code"
          >npm install @webcomponents/custom-elements @webcomponents/shadycss @webcomponents/webcomponentsjs ramda
          @clr/core</code
        >.
      </p>

      <h4>Using the polyfills</h4>

      <p>
        Once the dependencies are in a good place, you will need to import the
        <code class="clr-code">runCssVarsPolyfill</code> helper from <code class="clr-code">@clr/core</code>. This is
        what you will use to update the CSS custom properties in Internet Explorer.
      </p>

      <h4>When to call the polyfills</h4>

      <p>
        <a
          href="//github.com/mathisscott/clarity-theming-starter/blob/clarity-css-whitelabel-switcher/src/app/app.component.ts"
          target="_blank"
          rel="noopener noreferrer"
          >As demonstrated in this example</a
        >, you'll want to call <code class="clr-code">runCssVarsPolyfill()</code> whenever making a change to your
        custom properties. This includes if you are enabling or disabling stylesheets.
      </p>

      <p>
        <code class="clr-code">runCssVarsPolyfill()</code> can accept an optional config object if you would like. We
        suggest
        <a href="//jhildenbiddle.github.io/css-vars-ponyfill/#/" target="_blank" rel="noopener noreferrer"
          >familiarizing yourself with the documentation of the <code class="clr-code">css-vars-ponyfill</code></a
        >
        before passing in a custom configuration, however.
      </p>

      <p>In most cases, the Clarity default configuration will be sufficient.</p>
    </div>
  </article>
</clr-doc-wrapper>
