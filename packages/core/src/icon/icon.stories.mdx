import { Meta, Props, Story, Preview, API } from '@storybook/addon-docs/blocks';
import { html, LitElement } from 'lit-element';

<Meta title="Components/Icon" />

# Icon

Icon component that renders svg shapes that can be customized.
To load an icon, import the icon with the icon service.

## Installation

To use the icon component import the component in your JavaScript.
To see all available icons check out the <a href="./?path=/story/stories-icon--all">Collections Demo</a>.

```typescript
import '@cds/core/icon/register.js';
import { ClarityIcons, userIcon } from '@cds/core/icon';

ClarityIcons.addIcons(userIcon);
```

Icons have different accessibility requirements depending on the context they are being used in.
There are three main use cases for icons and how they should be implemented in an
accessible way.

- Inert
- Interactive
- Status/Indicator

### Neutral

Icons by default are inert only meaning they do not provide any context
to screen readers nor are interactive. The icon is purely cosmetic without
additional markup.

```html
<cds-icon shape="bars"></cds-icon>
```

### Interactive

When icons are used in buttons or links they should be used in conjunction with descriptive text.

```html
<cds-button> <cds-icon shape="bars"></cds-icon> menu </cds-button>
```

If the icon in an interactive item does not have text then the parent interactive
item (typically a button or link) should have an appropriate `aria-label` describing the interaction.

```html
<cds-icon-button aria-label="toggle menu">
  <cds-icon shape="bars"></cds-icon>
</cds-icon-button>
```

### Status/Indicator

If an icon is used to show a status/indicator or part of a larger body of text
content then the icon should have an `aria-label` and `role="img"` attribute.

```html
<p>
  <cds-icon shape="exclamation-triangle" role="img" aria-label="Usage Warning"></cds-icon>
  CPU usage is at 99% use.
</p>
```

If using JSX or TSX, import the icon name from `@cds/core/icon` and include it in the `shape` prop to improve type safety:

```tsx
import { ClarityIcons, userIcon, userIconName } from '@cds/core/icon';
import { CdsIcon } from '@cds/react/icon';

ClarityIcons.addIcons(userIcon);

<CdsIcon shape={userIconName} />;
```

## Icon

<Preview>
  <Story id="stories-icon--icon" />
</Preview>

## Sizes

<Preview>
  <Story id="stories-icon--sizes" />
</Preview>

## Badges

<Preview>
  <Story id="stories-icon--badges" />
</Preview>

## Status

<Preview>
  <Story id="stories-icon--status" />
</Preview>

## Status Inverse

<Preview>
  <Story id="stories-icon--status-inverse" />
</Preview>

## Direction

<Preview>
  <Story id="stories-icon--direction" />
</Preview>

## Flip

<Preview>
  <Story id="stories-icon--flip" />
</Preview>

## Dark Theme

<Preview>
  <Story id="stories-icon--dark-theme" />
</Preview>

## Lazy Icons

Sometimes icons may be loaded to the registry after they are rendered in an application. Clarity Core icons handle this gracefully with a loading image.

<Preview>
  <Story id="stories-icon--lazy-loading" />
</Preview>

## Custom Styles

<Preview>
  <Story id="stories-icon--custom-styles" />
</Preview>

## API

<Props of={'cds-icon'} />
