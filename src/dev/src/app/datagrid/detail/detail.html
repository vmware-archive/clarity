<!--
  ~ Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->

<h2>Detail Pane</h2>

<style>
clr-datagrid ::ng-deep .datagrid-detail-body {
  padding: 0 1rem;
}
::ng-deep .datagrid-nav { display: none; }
::ng-deep h2 { display: none; }
</style>

<clr-datagrid [(clrDgSelected)]="selection">
  <clr-dg-column [clrDgField]="'id'">User ID</clr-dg-column>
  <clr-dg-column [clrDgField]="'name'"><ng-container *clrDgHideableColumn>Name</ng-container></clr-dg-column>
  <clr-dg-column [clrDgField]="'creation'"><ng-container *clrDgHideableColumn>Creation date</ng-container></clr-dg-column>
  <clr-dg-column [clrDgField]="'pokemon.name'"><ng-container *clrDgHideableColumn>Pokemon</ng-container></clr-dg-column>
  <clr-dg-column [clrDgField]="'color'"><ng-container *clrDgHideableColumn>Favorite color</ng-container></clr-dg-column>

  <clr-dg-row *clrDgItems="let user of users" [clrDgItem]="user" [detailOpenLabel]="'Open row details for ' + user.name" [detailCloseLabel]="'Open row details for ' + user.name">
    <clr-dg-cell>{{user.id}}</clr-dg-cell>
    <clr-dg-cell>{{user.name}}</clr-dg-cell>
    <clr-dg-cell>{{user.creation | date}}</clr-dg-cell>
    <clr-dg-cell>{{user.pokemon.name}}</clr-dg-cell>
    <clr-dg-cell>
      <span class="color-square" [style.backgroundColor]="user.color"></span>
    </clr-dg-cell>

    <!-- This is here but it will not be enabled -->
    <clr-dg-row-detail *clrIfExpanded>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin in neque in ante placerat mattis id sed quam.
      Proin rhoncus lacus et tempor dignissim. Vivamus sem quam, pellentesque aliquet suscipit eget, pellentesque sed arcu.
      Vivamus in dui lectus. Suspendisse cursus est ac nisl imperdiet viverra.
    </clr-dg-row-detail>
  </clr-dg-row>

  <!-- Simple API for most cases -->
  <!--clr-dg-detail *clrIfDetail="let detail">
    <clr-dg-detail-header>{{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}}</clr-dg-detail-header>
    <clr-dg-detail-body>
      <pre>{{detail | json}}</pre>
      <pre>{{detail | json}}</pre>
      <pre>{{detail | json}}</pre>
      <pre>{{detail | json}}</pre>
    </clr-dg-detail-body>
  </clr-dg-detail-->

  <!--  Desugared option for change event -->
  <!--clr-dg-detail>
    <ng-template clrIfDetail let-detail (clrIfDetailChange)="state = $event">
      <clr-dg-detail-header>{{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}}</clr-dg-detail-header>
      <clr-dg-detail-body>
        <pre>{{detail | json}}</pre>
        <pre>{{detail | json}}</pre>
        <pre>{{detail | json}}</pre>
        <pre>{{detail | json}}</pre>
      </clr-dg-detail-body>
    </ng-template>
  </clr-dg-detail-->

  <!--  Desugared option for two way binding, currently causing chocolate errors -->
  <ng-template [(clrIfDetail)]="state" let-detail>
    <clr-dg-detail>
      <clr-dg-detail-header>{{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}} {{detail.name}}</clr-dg-detail-header>
      <clr-dg-detail-body>
        <pre>{{detail | json}}</pre>
        <pre>{{detail | json}}</pre>
        <pre>{{detail | json}}</pre>
        <pre>{{detail | json}}</pre>
      </clr-dg-detail-body>
    </clr-dg-detail>
  </ng-template>

  <clr-dg-footer>
    <clr-dg-pagination #pagination [clrDgPageSize]="10">
      <clr-dg-page-size [clrPageSizeOptions]="[10,20,50,100]">Users per page</clr-dg-page-size>
      {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}} of {{pagination.totalItems}} users
    </clr-dg-pagination>
  </clr-dg-footer>
</clr-datagrid>

<code class="clr-code">{{state | json}}</code>
