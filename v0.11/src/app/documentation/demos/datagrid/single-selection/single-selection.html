<!--
  ~ Copyright (c) 2017 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->

<h2>Selection (Single)</h2>

<p>
    Depending on the use case, you might want to restrict the user to only allow single selection in a datagrid.
    If you haven't done so, please read the previous section on general selection first.
</p>
<ul>
    <li>
        For single select, instead of <code class="clr-code">[(clrDgSelected)]</code>,
        add a <code class="clr-code">[(clrDgSingleSelected)]</code> two-way binding on the datagrid
        itself, to have access to the currently selected item. Note that by setting this value
        yourself, you can dynamically select an element if you need to.
    </li>
</ul>

<p>
    In the following example, we simply display the name of the selected user, but since we
    have access to the full objects, we could perform any operation we want on it.
</p>

<div class="card card-block">
    <p class="card-text username-list">
        Selected user:
        <em *ngIf="!singleSelected">No user selected.</em>
        <span class="username" *ngIf="singleSelected">{{singleSelected.name}}</span>
    </p>
</div>

<clr-datagrid [(clrDgSingleSelected)]="singleSelected">

    <clr-dg-column>User ID</clr-dg-column>
    <clr-dg-column>Name</clr-dg-column>
    <clr-dg-column>Creation date</clr-dg-column>
    <clr-dg-column>Favorite color</clr-dg-column>

    <clr-dg-row *clrDgItems="let user of users" [clrDgItem]="user">
        <clr-dg-cell>{{user.id}}</clr-dg-cell>
        <clr-dg-cell>{{user.name}}</clr-dg-cell>
        <clr-dg-cell>{{user.creation | date}}</clr-dg-cell>
        <clr-dg-cell>
            <span class="color-square" [style.backgroundColor]="user.color"></span>
        </clr-dg-cell>
    </clr-dg-row>

    <clr-dg-footer>{{users.length}} users</clr-dg-footer>
</clr-datagrid>

<clr-code-snippet [clrCode]="example" clrLanguage="html"></clr-code-snippet>

<p>
    Depending on the use case, you might want to allow selection when clicking anywhere in the grid row. Note that this
    is not recommended when the rows contain clickable items. For example, if your cells contain input, buttons, etc.
    it is best to avoid enabling whole row selection.
</p>
<p>
    For row selection mode add <code class="clr-code">[(clDgRowSelection)]</code> and
    set it to <code class="clr-code">true</code>.
</p>

<div class="card card-block">
    <p class="card-text username-list">
        Selected user:
        <em *ngIf="!rowSelected">No user selected.</em>
        <span class="username" *ngIf="rowSelected">{{rowSelected.name}}</span>
    </p>
</div>

<clr-datagrid [(clrDgSingleSelected)]="rowSelected" [clDgRowSelection]="true">

    <clr-dg-column>User ID</clr-dg-column>
    <clr-dg-column>Name</clr-dg-column>
    <clr-dg-column>Creation date</clr-dg-column>
    <clr-dg-column>Favorite color</clr-dg-column>

    <clr-dg-row *clrDgItems="let user of users" [clrDgItem]="user">
        <clr-dg-cell>{{user.id}}</clr-dg-cell>
        <clr-dg-cell>{{user.name}}</clr-dg-cell>
        <clr-dg-cell>{{user.creation | date}}</clr-dg-cell>
        <clr-dg-cell>
            <span class="color-square" [style.backgroundColor]="user.color"></span>
        </clr-dg-cell>
    </clr-dg-row>

    <clr-dg-footer>{{users.length}} users</clr-dg-footer>
</clr-datagrid>

<clr-code-snippet [clrCode]="rowSelectionExample" clrLanguage="html"></clr-code-snippet>