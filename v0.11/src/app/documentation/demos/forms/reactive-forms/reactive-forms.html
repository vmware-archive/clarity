<!--
  ~ Copyright (c) 2016 - 2017 VMware, Inc. All Rights Reserved.
  ~ This software is released under MIT license.
  ~ The full license information can be found in LICENSE in the root directory of this project.
  -->

<form class="form" [formGroup]="employeeAddressForm" (ngSubmit)="onSubmit()" [hidden]="submitted">
    <section class="form-block">
        <label>Add Employee Address</label>
        <div class="form-group">
            <label for="empFullName">Full name</label>
            <label for="empFullName" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm" [class.invalid]="employeeAddressForm.get('fullName').invalid
                    && (employeeAddressForm.get('fullName').dirty || employeeAddressForm.get('fullName').touched)">
                <input id="empFullName" type="text"
                    formControlName="fullName">
                <span class="tooltip-content">
                    Name is required.
                </span>
            </label>
        </div>
        <div formGroupName="address">
            <div class="form-group">
                <label for="empPostalCode">Postal code</label>
                <label for="empPostalCode" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm" [class.invalid]="employeeAddressForm.get('address').get('postalCode').invalid
                        && (employeeAddressForm.get('address').get('postalCode').dirty ||
                        employeeAddressForm.get('address').get('postalCode').touched)">
                    <input id="empPostalCode" type="text"
                        formControlName="postalCode">
                    <span class="tooltip-content">
                        Postal code is required.
                    </span>
                </label>
            </div>
            <div class="form-group">
                <label for="empCountry">Country</label>
                <label for="empCountry" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-sm" [class.invalid]="employeeAddressForm.get('address').get('country').invalid
                        && (employeeAddressForm.get('address').get('country').dirty ||
                        employeeAddressForm.get('address').get('country').touched)">
                    <input id="empCountry" type="text"
                        formControlName="country">
                    <span class="tooltip-content">
                        Country is required.
                    </span>
                </label>
            </div>
        </div>
        <button class="btn btn-primary" type="submit" [disabled]="employeeAddressForm.invalid">Add</button>
    </section>
</form>

<div [hidden]="!submitted">
    <div class="row">
        <div class="col-xs-12 col-md-6">
            <table class="table">
                <thead>
                    <tr>
                        <th colspan="2" class="left">
                            Employee Address Information
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="left">Full name</td>
                        <td class="left">{{employeeAddressForm.get('fullName').value}}</td>
                    </tr>
                    <tr>
                        <td class="left">Postal code</td>
                        <td class="left">{{employeeAddressForm.get('address').get('postalCode').value}}</td>
                    </tr>
                    <tr>
                        <td class="left">Country</td>
                        <td class="left">{{employeeAddressForm.get('address').get('country').value}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <button class="btn btn-primary" (click)="addNewEmployeeAddress();">New Employee Address</button>
        </div>
    </div>
</div>

<clr-code-snippet [clrCode]="examples.reactiveTS" clrLanguage="typescript"></clr-code-snippet>
<clr-code-snippet [clrCode]="examples.reactiveHTML" clrLanguage="html"></clr-code-snippet>
